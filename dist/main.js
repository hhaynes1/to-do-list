(()=>{"use strict";class e{constructor(e){this.title=e,this.tasks=[],this.index}setIndex(e){this.index=e}getIndex(){return this.index}removeTask(e){return this.tasks.splice(e,1),this.tasks}addTask(e){this.tasks.push(e)}getTasks(){return this.tasks}getName(){return this.title}}class t{constructor(e){this.title=e,this.priority="High",this.index}setIndex(e){this.index=e}getIndex(){return this.index}setPriority(e){this.priority=e}}const n=document;(new class{constructor(){this.projectList=[]}initialize(){console.log("initialization");const e=n.getElementById("content"),t=Object.assign(n.createElement("div"),{className:"content-header"});e.appendChild(t);const s=Object.assign(n.createElement("button"),{className:"new-project-expand-button",textContent:"+"});t.appendChild(s),s.addEventListener("click",(()=>{this.toggleProjectHeaderVisibility()}));const i=Object.assign(n.createElement("input"),{className:"project-name-input",type:"text",placeholder:"New Sticky"});t.appendChild(i);const a=Object.assign(n.createElement("button"),{className:"new-project-enter-button",textContent:"Add"});t.appendChild(a),a.addEventListener("click",(()=>{""!=i.value&&(this.createNewProject(c,i.value),i.value="")}));const c=Object.assign(n.createElement("div"),{className:"project-container"});e.appendChild(c)}createNewProject(t,s){const i=new e(s);i.setIndex(this.projectList.length),this.projectList.push(i);const a=Object.assign(n.createElement("div"),{className:"project-div"});t.appendChild(a),this.makeElementDraggable(a);const c=Object.assign(n.createElement("div"),{className:"task-header"});a.appendChild(c);const o=Object.assign(n.createElement("button"),{className:"project-minus-button",textContent:"x"});o.addEventListener("click",(()=>{this.removeProject(i.getIndex()),a.remove()})),c.appendChild(o);const l=Object.assign(n.createElement("h3"),{className:"task-title",textContent:`${i.getName()}`,contentEditable:!1});c.appendChild(l);const r=Object.assign(n.createElement("div"),{className:"new-task-div"});a.appendChild(r);const d=Object.assign(n.createElement("input"),{className:"new-task-input",placeholder:"New Task"});r.appendChild(d);const p=Object.assign(n.createElement("button"),{className:"new-task-button",textContent:"+"});r.appendChild(p),p.addEventListener("click",(()=>{this.createNewTask(a,i,d.value),d.value=""}))}removeProject(e){this.projectList.splice(e,1),this.updateProjectIndex()}updateProjectIndex(){for(let e=0;e<this.projectList.length;e++)this.projectList[e].index=e}createNewTask(e,s,i){if(!i)return;const a=new t(i);s.addTask(a),a.setIndex(s.getTasks.length);const c=Object.assign(n.createElement("div"),{className:"task-div"});e.appendChild(c);const o=Object.assign(n.createElement("p"),{className:"task-description",textContent:`${i}`});o.addEventListener("click",(()=>{o.classList.toggle("strikethrough")})),c.appendChild(o);const l=Object.assign(n.createElement("button"),{className:"task-priority-button",textContent:"High"});c.appendChild(l),l.addEventListener("click",(()=>{"High"===l.textContent?(a.setPriority("Med"),l.textContent="Med",l.style.backgroundColor="#FCE205"):"Med"===l.textContent?(a.setPriority("Low"),l.textContent="Low",l.style.backgroundColor="#39E75F"):(a.setPriority("High"),l.textContent="High",l.style.backgroundColor="#E3242B")}));const r=Object.assign(n.createElement("button"),{className:"task-minus-button",textContent:"-"});c.appendChild(r),r.addEventListener("click",(()=>{s.removeTask(a),c.remove()}))}toggleProjectHeaderVisibility(){"+"===n.querySelector(".new-project-expand-button").textContent?(n.querySelector(".project-name-input").style.visibility="visible",n.querySelector(".new-project-enter-button").style.visibility="visible",n.querySelector(".new-project-expand-button").textContent="-"):(n.querySelector(".project-name-input").style.visibility="hidden",n.querySelector(".project-name-input").value="",n.querySelector(".new-project-enter-button").style.visibility="hidden",n.querySelector(".new-project-expand-button").textContent="+")}makeElementDraggable(e){let t=0,s=0,i=0,a=0;function c(n){n.preventDefault(),t=i-n.clientX,s=a-n.clientY,i=n.clientX,a=n.clientY,e.style.top=e.offsetTop-s+"px",e.style.left=e.offsetLeft-t+"px"}function o(){n.onmouseup=null,n.onmousemove=null}e.onmousedown=function(e){i=e.clientX,a=e.clientY,n.onmouseup=o,n.onmousemove=c}}}).initialize()})();